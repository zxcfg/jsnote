<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			#box{width: 1208px;margin: 0 auto;}
			h3{font-size: 35px;text-align: center;}
			img{width: 600px;height: 400px;float:left;}
			.loading{background:url("img/loading.gif") no-repeat center center;}
		</style>
		<script type="text/javascript">
			function obtainPos(obj){
				var l=0;
				var t=0;
				while (obj){
					l=l+obj.offsetLeft;
					t=t+obj.offsetTop;
					obj=obj.offsetParent;
				}
				return {top:t,left:l}
			}
			window.onload=window.onscroll=function (){
				var img=document.getElementsByTagName('img');
				var scotop=document.documentElement.scrollTop||document.body.scrollTop;
				var wih=document.documentElement.clientHeight||document.body.clientHeight;
				//var arr=["img/001.jpg","img/002.jpg","img/003.jpg","img/004.jpg"]
				for (var i = 0; i < img.length; i++) {
					img[i].className="loading";
					if(obtainPos(img[i]).top<scotop+wih){
						console.log(obtainPos(img[7]).top);
						console.log(scotop+wih);
				 		img[i].src=img[i].getAttribute("as");
						//img[i].src=arr[Math.floor(Math.random()*i)];
					}
				}
			}
		</script>
	</head>
	<body>
		<div id="box">
			<h3>图片欣赏</h3>
			<img as='img/001.jpg'/>
			<img as='img/002.jpg'/>
			<img as='img/003.jpg'/>
			<img as='img/004.jpg'/>
			<img as='img/005.jpg'/>
			<img as='img/006.jpg'/>
			<img as='img/007.jpg'/>
			<img as='img/008.jpg'/>
			<img as='img/009.jpg'/>
			<img as='img/010.jpg'/>
			<img as='img/011.jpg'/>
			<img as='img/012.jpg'/>
			<img as='img/013.jpg'/>
			<img as='img/014.jpg'/>
			<img as='img/015.jpg'/>
			<img as='img/016.jpg'/>
			<img as='img/017.jpg'/>
			<img as='img/018.jpg'/>
			<img as='img/019.jpg'/>
			<img as='img/020.jpg'/>
			<img as='img/021.jpg'/>
			<img as='img/022.jpg'/>
		</div>
	</body>
</html>
