<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        *{margin: 0;padding: 0;	}
        #ds{width: 400px;height: 400px;background: green;
            position: absolute;top: 50px;left: 50px;padding: 50px 0 0 50px;}
        #dv{width: 200px;height: 200px;background: #333;padding: 50px 0 0 50px;
            position: absolute;top: 50px;left: 50px;}
        #dd{width: 100px;height: 100px;background: red;}
    </style>
</head>
<body>
<div id="ds">
    <div id="dv">
        <div id="dd">

        </div>
    </div>
</div>
<script src="../../../js.js"></script>
<script>
    var ds=getId("ds");
    var dv=getId("dv");
    var dd=getId("dd");
    function obtainPos(obj) {
        var l=0;
        var t=0;
        while(obj){
            l=l+obj.offsetLeft;
            t=t+obj.offsetTop;
            obj=obj.offsetParent;
        }
        return {top:t,left:l};
    }
    console.log(obtainPos(ds).top);
    console.log(obtainPos(ds).left);
    var imgs=doucment.getElementsByTagName("img");
    var sTop=document.documentElement.scrollTop||document.body.scrollTop;
    var sh=document.documentElement.clientHeight||document.body.clientHeight;
    for(var i=0;i<imgs.length;i++){
       if(obtainPos(imgs[i]).top<sh+sTop){
           img[i].src=imgs[i].getAttribute("as");
       }
    }













//    function obtainPos(obj){
//        var t=0;
//        var l=0;
//        while(obj){
//            t=t+obj.offsetTop;
//            l=t+obj.offsetLeft;
//            obj=obj.offsetParent;
//        }
//        return {top:t,left:l};
//    }
//    console.log(obtainPos(dd).top);
//    console.log(obtainPos(dd).left);
</script>
</body>
</html>